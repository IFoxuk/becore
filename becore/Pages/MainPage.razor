@using becore.Components.ContentPreviewCard
@using becore.Services
@inject ContentApiService ContentService

@page "/main"
<Div Background="Background.Primary" Padding="Padding.Is4" Border="Border.Rounded">
    <Div>
        <Carousel ShowIndicators="false" @bind-SelectedSlide="@selectedSlide" Shadow="Shadow.Large">
            <Blazorise.Bulma.Components.CarouselSlide Name="1">
                <Image Source="img\jpg\bord.jpg" Text="Lights image"></Image>
            </Blazorise.Bulma.Components.CarouselSlide>
            <Blazorise.Bulma.Components.CarouselSlide Name="2">
                <Image Source="img\jpg\bord.jpg" Text="Lights image"></Image>
            </Blazorise.Bulma.Components.CarouselSlide>
        </Carousel>
    </Div>

</Div>
<Jumbotron Background="Background.Secondary">
    <JumbotronTitle>
        <Div Flex="Flex.JustifyContent.Between">
            <Text> Лучшие модификации</Text>

            <Div>
                <Button Color="Color.Primary">&lt;</Button>
                <Button Color="Color.Primary">&gt;</Button>
            </Div>
        </Div>
    </JumbotronTitle>

    <Container Fluid>
        <div class="main-content-grid">
            @foreach (var item in _bestModifications)
            {
                <div class="main-content-item">
                    <ContentPreviewCard PageData="@item" ShowDebugInfo="false" />
                </div>
            }
        </div>
        
        <Div Flex="Flex.JustifyContent.Center" Margin="Margin.Is3.FromTop">
            <Button Color="Color.Primary" Size="Size.Large" To="/search">
                Смотреть все модификации
            </Button>
        </Div>
    </Container>
</Jumbotron>
<Jumbotron Background="Background.Secondary">
    <JumbotronTitle>
        <Div Flex="Flex.JustifyContent.Between">
            <Text> Лучшие Миры</Text>

            <Div>
                <Button Color="Color.Primary">&lt;</Button>
                <Button Color="Color.Primary">&gt;</Button>
            </Div>
        </Div>
    </JumbotronTitle>

    <Container Fluid>
        <div class="main-content-grid">
            @foreach (var world in _bestWorlds)
            {
                <div class="main-content-item">
                    <ContentPreviewCard PageData="@world" ShowDebugInfo="false" />
                </div>
            }
        </div>
        
        <Div Flex="Flex.JustifyContent.Center" Margin="Margin.Is3.FromTop">
            <Button Color="Color.Primary" Size="Size.Large" To="/search">
                Смотреть все миры
            </Button>
        </Div>
    </Container>
</Jumbotron>

<style>
    .main-content-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
        gap: 1.5rem;
        margin: 1rem 0;
    }

    .main-content-item {
        display: flex;
        justify-content: center;
    }

    @@media (min-width: 768px) {
        .main-content-grid {
            grid-template-columns: repeat(3, 1fr);
            max-width: 1200px;
            margin: 1.5rem auto;
            padding: 0 1rem;
        }
    }

    @@media (max-width: 767px) {
        .main-content-grid {
            grid-template-columns: 1fr;
        }
    }
</style>
